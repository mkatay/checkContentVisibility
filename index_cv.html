<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content visibility - check</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .section {
            content-visibility: auto;
            contain-intrinsic-size: 460px;
        }
    </style>
</head>

<body>
    <div class="content">

        <div class="section main">
            <div class="image ">
                <img src="https://picsum.photos/id/237/400/300" alt="random image">
            </div>
            <div class="txt">
                <h1>I'm trying to test content-visibility property...</h1>
            </div>
        </div>
        <div class="sections"></div>
    </div>
    <script>

        function section(url, i) {
            if (i % 2 == 0)
                return `
            <div class="section ">
                <div class="image ">
                    <img src="${url}"  alt="random image">
                </div>
                <div class="txt">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Totam pariatur laborum optio cupiditate vitae, quisquam quaerat asperiores iusto sit, et reiciendis voluptatem ullam unde, repudiandae vel accusamus itaque delectus doloremque ad rerum explicabo ipsa. Ea non ad labore debitis ducimus perferendis deserunt. Distinctio soluta nobis veniam quisquam quidem expedita, delectus natus esse maxime sit perspiciatis error blanditiis voluptas non illo nam rem adipisci vero debitis fugiat cumque vel consequatur. Ut quos quis et similique eligendi cum, dicta ratione laboriosam assumenda ipsam sint deserunt dolorem totam quam. Impedit veritatis suscipit cupiditate sint deserunt iste quidem ratione facilis, aliquam neque veniam ullam.</p>
                </div>
            </div>
            `
            else
                return `
            <div class="section ">
                <div class="txt">
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Totam pariatur laborum optio cupiditate vitae, quisquam quaerat asperiores iusto sit, et reiciendis voluptatem ullam unde, repudiandae vel accusamus itaque delectus doloremque ad rerum explicabo ipsa. Ea non ad labore debitis ducimus perferendis deserunt. Distinctio soluta nobis veniam quisquam quidem expedita, delectus natus esse maxime sit perspiciatis error blanditiis voluptas non illo nam rem adipisci vero debitis fugiat cumque vel consequatur. Ut quos quis et similique eligendi cum, dicta ratione laboriosam assumenda ipsam sint deserunt dolorem totam quam. Impedit veritatis suscipit cupiditate sint deserunt iste quidem ratione facilis, aliquam neque veniam ullam.</p>
                </div>
                <div class="image ">
                    <img src="${url}"  alt="random image">
                </div>
            </div>
            `
        }
        let rand, url
        for (let i = 0; i < 50; i++) {
            rand = Math.floor(Math.random() * 200)
            url = `https://picsum.photos/id/${rand}/400/300`
            document.querySelector('.sections').innerHTML += section(url, i)
        }

    </script>
</body>

</html>